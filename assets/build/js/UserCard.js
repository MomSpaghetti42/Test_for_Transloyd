"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),UserCard=function(){function a(e,r,n,t){(0,_classCallCheck2.default)(this,a),this.login=e,this.avatar=r,this.url=n,this.repos_url=t}var e,r;return(0,_createClass2.default)(a,[{key:"render",value:function(){var e=this,r=document.createElement("div");return r.onclick=function(){e.showUser()},r.className="user-card",r.innerHTML='<img class="avatar" src="'+this.avatar+'"><span>'+this.login+"</span>",r}},{key:"showUser",value:(r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var r,n,t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("users").innerHTML=null,document.getElementById("repos-section").innerHTML=null,document.getElementById("users").classList.remove("users-block"),document.getElementById("user-profile-section").innerHTML=null,(r=document.createElement("div")).className="user-profile",e.next=8,fetch(this.url);case 8:return n=e.sent,e.next=11,n.json();case 11:t=e.sent,r.innerHTML='<div class="user-profile__card"><img class="avatar" src="'+t.avatar_url+'"><div class="user-profile__info"><span class="login">'+t.login+"</span><span>Name: "+t.name+"</span><span>Company: "+t.company+"</span><span>E-mail: "+t.email+"</span><span>Followers: "+t.followers+"</span><span>Date of registration: "+t.created_at+'</span></div></div><div id="repositories" class="user-profile__repositories"></div>',this.showRepos(),document.getElementById("user-profile-section").appendChild(r);case 15:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"showRepos",value:(e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.repos_url);case 2:return r=e.sent,e.next=5,r.json();case 5:e.sent.forEach(function(e){var r=new ReposCard(e.name,e.language,e.url).render();document.getElementById("repositories").appendChild(r)});case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),a}();